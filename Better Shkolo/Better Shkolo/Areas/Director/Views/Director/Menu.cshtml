@using Better_Shkolo.Models.School;
@model SchoolMenuModel

<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap-extended.min.css">
<link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/fonts/simple-line-icons/style.min.css">
<link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/colors.min.css">
<link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap.min.css">
<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sidebar With Bootstrap</title>
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
</head>
@{
    Layout = "";
}
<body>
    <div class="wrapper">
        <aside id="sidebar">
            <div class="d-flex">
                <button class="toggle-btn" type="button">
                    <i class="lni lni-grid-alt"></i>
                </button>
                <div class="sidebar-logo">
                    <a asp-action="Index" asp-controller="Home"><img src="/logof.png" style="height:35px;" /></a>
                </div>
            </div>
            <ul class="sidebar-nav">
                <li class="sidebar-item">
                    <a href="/Director/Director/Menu" class="sidebar-link">
                        <i class="lni lni-agenda"></i>
                        <span>Начало</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="/Consultation/Mine" class="sidebar-link">
                        <i class="lni lni-layout"></i>
                        <span>Справки</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link collapsed has-dropdown" data-bs-toggle="collapse"
                       data-bs-target="#auth" aria-expanded="false" aria-controls="auth">
                        <i class="lni lni-protection"></i>
                        <span>Дейности</span>
                    </a>
                    <ul id="auth" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                        <li class="sidebar-item">
                            <a href="/Activity/Add" class="sidebar-link">Добави активност</a>
                        </li>
                        <li class="sidebar-item">
                            <a href="/Activity/Schedule" class="sidebar-link">Училищен календар</a>
                        </li>
                    </ul>
                </li>
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link collapsed has-dropdown" data-bs-toggle="collapse"
                       data-bs-target="#auth" aria-expanded="false" aria-controls="auth">
                        <i class="lni lni-protection"></i>
                        <span>Съобщения</span>
                    </a>
                    <ul id="auth" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                        <li class="sidebar-item">
                            <a href="/Message/Index" class="sidebar-link">Съобщения</a>
                        </li>
                        <li class="sidebar-item">
                            <a href="/Message/Send" class="sidebar-link">Изпрати съобщение</a>
                        </li>
                    </ul>
                </li>
                @if (User.IsInRole("Director"))
                {
                    <li class="sidebar-item">
                        <a href="#" class="sidebar-link collapsed has-dropdown" data-bs-toggle="collapse"
                           data-bs-target="#multi" aria-expanded="false" aria-controls="multi">
                            <i class="lni lni-layout"></i>
                            <span>Моето училище</span>
                        </a>
                        <ul id="multi" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                            <li class="sidebar-item">
                                <a href="#" class="sidebar-link collapsed" data-bs-toggle="collapse"
                                   data-bs-target="#multi-two" aria-expanded="false" aria-controls="multi-two">
                                    Управлявай
                                </a>
                                <ul id="multi-two" class="sidebar-dropdown list-unstyled collapse">
                                    <li class="sidebar-item">
                                        <a href="/School/Edit/@Model.SchoolId" class="sidebar-link">Редактирай</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Teacher/Create/@Model.SchoolId" class="sidebar-link">Добави учител</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Teacher/View/@Model.SchoolId" class="sidebar-link">Учители</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Subject/Create/@Model.SchoolId" class="sidebar-link">Добави предмет</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Subject/View/@Model.SchoolId" class="sidebar-link">Предмети</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Grade/Create/@Model.SchoolId" class="sidebar-link">Добави клас</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Grade/View/@Model.SchoolId" class="sidebar-link">Класове</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Student/Add/@Model.SchoolId" class="sidebar-link">Добави ученик</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Student/View/@Model.SchoolId" class="sidebar-link">Ученици</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/Table/Generate/@Model.SchoolId" class="sidebar-link">Генерирай програма</a>
                                    </li>
                                    <li class="sidebar-item">
                                        <a href="/StudyPlan/Plans/@Model.SchoolId" class="sidebar-link">Учебни планове</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                }
            </ul>
            <div class="sidebar-footer">
                <a href="/Account/MyProfile" class="sidebar-link">
                    <i class="lni lni-user"></i>
                    <span>Профил</span>
                </a>
                <a href="/Account/Logout" class="sidebar-link">
                    <i class="lni lni-exit"></i>
                    <span>Излизане</span>
                </a>
            </div>
        </aside>
        <div class="main p-3">
            <div id="elements">
                <br />
                <br />
                <div class="grey-bg container-fluid">
                    <section id="minimal-statistics">
                        <div class="row">
                            <div class="col-12 mt-4 mb-1">
                                <h4 class="text-uppercase">Статистики</h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-3 col-sm-6 col-12">
                                <div class="card">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="align-self-center">
                                                    <i class="fa-solid fa-chalkboard-user font-large-1"></i>
                                                </div>
                                                <div class="media-body text-right">
                                                    <h3 id="teachers"></h3>
                                                    <span>Учители</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-sm-6 col-12">
                                <div class="card">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="media-body text-left">
                                                    <h3 id="students" class="danger"></h3>
                                                    <span>Ученици</span>
                                                </div>
                                                <div class="align-self-center">
                                                    <i class="fa-solid fa-users font-large-2" style="color: #fc601d;"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-sm-6 col-12">
                                <div class="card">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="media-body text-left">
                                                    <h3 id="marks" class="success"></h3>
                                                    <span>Оценки</span>
                                                </div>
                                                <div class="align-self-center">
                                                    <i class="fa-regular fa-square-check float-right font-large-2" style="color: #63E6BE;"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-sm-6 col-12">
                                <div class="card">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="media-body text-left">
                                                    <h3 id="reviews" class="warning"></h3>
                                                    <span>Отзиви</span>
                                                </div>
                                                <div class="align-self-center">
                                                    <i class="fa-solid fa-comments font-large-2 float-right" style="color: #ff8614;"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-3 col-sm-6 col-12">
                                <div class="card">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="media-body text-left">
                                                    <h3 id="absences" class="primary"></h3>
                                                    <span>Отсъствия</span>
                                                </div>
                                                <div class="align-self-center">
                                                    <i class="fa-solid fa-user-slash font-large-2 float-right" style="color: #74C0FC;"></i>
                                                </div>
                                            </div>
                                            <div class="progress mt-1 mb-0" style="height: 7px;">
                                                <div class="progress-bar bg-primary" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-sm-6 col-12">
                                <div class="card">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="media-body text-left">
                                                    <h3 id="grades" class="warning"></h3>
                                                    <span>Класове</span>
                                                </div>
                                                <div class="align-self-center">
                                                    <i class="fa-solid fa-people-group font-large-2 float-right" style="color: #FFD43B;"></i>
                                                </div>
                                            </div>
                                            <div class="progress mt-1 mb-0" style="height: 7px;">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 35%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-sm-6 col-12">
                                <div class="card">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="media-body text-left">
                                                    <h3 id="subjects" class="success"></h3>
                                                    <span>Предмети</span>
                                                </div>
                                                <div class="align-self-center">
                                                    <i class="fa-solid fa-newspaper font-large-2 float-right" style="color: #63E6BE;"></i>
                                                </div>
                                            </div>
                                            <div class="progress mt-1 mb-0" style="height: 7px;">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-sm-6 col-12">
                                <div class="card">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="media-body text-left">
                                                    <h3 id="tests" class="primary"></h3>
                                                    <span>Контролни</span>
                                                </div>
                                                <div class="align-self-center">
                                                    <i class="icon-book-open primary font-large-2 float-right"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"></script>
    <script src="/js/home.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $.get('https://localhost:7169/api/statistics/GetSchoolStatistics?schoolId=' + @Model.SchoolId, (data) => {
            $('#teachers').text(data.teachers);
            $('#students').text(data.students);
            $('#marks').text(data.marks);
            $('#reviews').text(data.reviews);
            $('#tests').text(data.tests);
            $('#absences').text(data.absences);
            $('#grades').text(data.grades);
            $('#subjects').text(data.subjects);
            console.log(data.Success);
        });
    </script>
</body>
</html>